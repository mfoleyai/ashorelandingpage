<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Privacy Policy - Ashore AI</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <nav class="navigation">
    <a href="/">Home</a>
    <a href="/support">Support</a>
    <a href="/privacy" class="active">Privacy</a>
  </nav>
  
  <div class="container">
    <div class="left-half">
      <div class="logo-wrapper">
        <div class="logo">A S H O R E &nbsp; A I</div>
      </div>
    </div>
    <div class="right-half">
      <div class="content long-content">
        <h1>Privacy Policy</h1>
        <div class="support-content">
          <div id="privacy-content">
            <!-- Content will be loaded dynamically from privacy_policy.md -->
            <p>Loading privacy policy...</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Simple markdown parser for basic elements
    function parseMarkdown(markdown) {
      let html = markdown
        // Headers
        .replace(/^### (.+$)/gm, '<h3>$1</h3>')
        .replace(/^## (.+$)/gm, '<h2>$1</h2>')
        .replace(/^# (.+$)/gm, '<h1>$1</h1>')
        
        // Bold text
        .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
        
        // Links
        .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>')
        
        // Convert line breaks to HTML
        .replace(/\n\n/g, '</p><p>')
        .replace(/\n/g, '<br>');

      // Handle lists
      const lines = html.split('<br>');
      let inList = false;
      let result = [];
      
      for (let line of lines) {
        const trimmed = line.trim();
        if (trimmed.startsWith('- ')) {
          if (!inList) {
            result.push('<ul class="privacy-list">');
            inList = true;
          }
          result.push('<li>' + trimmed.substring(2) + '</li>');
        } else {
          if (inList) {
            result.push('</ul>');
            inList = false;
          }
          if (trimmed) {
            result.push(line);
          }
        }
      }
      
      if (inList) {
        result.push('</ul>');
      }
      
      // Wrap in paragraphs and add sections
      html = '<div class="support-section"><p>' + result.join('') + '</p></div>';
      
      // Clean up extra paragraph tags and create proper sections
      html = html
        .replace(/<\/p><p><h([123])>/g, '</div><div class="support-section"><h$1>')
        .replace(/<\/h([123])><\/p><p>/g, '</h$1>')
        .replace(/<p><\/p>/g, '')
        .replace(/<p><h([123])>/g, '<div class="support-section"><h$1>')
        .replace(/<\/h([123])><\/p>/g, '</h$1>')
        .replace(/<p><strong>([^<]+):<\/strong>/g, '<div class="contact-options"><div class="contact-item"><strong>$1</strong><p>')
        .replace(/<p><strong>Email:<\/strong>\s*([^<]+)<\/p>/g, '<div class="contact-options"><div class="contact-item"><strong>Email</strong><p>$1</p></div></div>');

      return html;
    }

    // Load and render the privacy policy
    async function loadPrivacyPolicy() {
      try {
        const response = await fetch('privacy_policy.md');
        if (!response.ok) {
          throw new Error('Failed to load privacy policy');
        }
        
        const markdown = await response.text();
        const html = parseMarkdown(markdown);
        
        document.getElementById('privacy-content').innerHTML = html;
      } catch (error) {
        console.error('Error loading privacy policy:', error);
        document.getElementById('privacy-content').innerHTML = 
          '<div class="support-section"><p>Error loading privacy policy. Please try again later.</p></div>';
      }
    }

    // Load the privacy policy when the page loads
    document.addEventListener('DOMContentLoaded', loadPrivacyPolicy);
  </script>
</body>
</html>
